!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.zreact={})}(this,function(e){"use strict";function n(e,n){function t(){this.constructor=e}for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function t(e,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];for(var r,i=[],a=[],s=!1,l=t.length;l--;)i.push(t[l]);for(n&&null!=n.children&&(i.length||i.push(n.children),delete n.children);i.length;){var p=i.pop();if(p&&void 0!==p.pop)for(l=p.length;l--;){var c=p[l];i.push(c)}else"boolean"==typeof p&&(p=null),(r="function"!=typeof e)&&(null==p?p="":"number"==typeof p?p=String(p):"string"!=typeof p&&(r=!1)),r&&s?a[a.length-1]+=p:a.push(p),s=r}var u=new z;return u.nodeName=e,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==W.vnode&&W.vnode(u),u}function o(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var i=o.length>0?o:e.children;return t(e.nodeName,B({},e.attributes,n),i)}function r(e){e._dirty||(e._dirty=!0,1===q.push(e)&&(W.debounceRendering||T)(i))}function i(){var e,n=q;for(q=[];e=n.pop();)e._dirty&&U(e)}function a(e){var n=e.constructor.name,t=F[n];t||(t=F[n]=[]),t.push(e)}function s(e,n,t){var o,r=F[e.name];if(e.prototype&&e.prototype.render?(o=new e(n,t),ee.call(o,n,t)):((o=new ee(n,t)).constructor=e,o.render=l),r)for(var i=r.length;i--;){var a=r[i];if(a.constructor===e){o.nextVDom=a.nextVDom,r.splice(i,1);break}}return o}function l(e,n,t){return this.constructor(e,t)}function p(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function c(e){var n=e.parentNode;n&&n.removeChild(e)}function u(e,n,t,o,r){var i=e.base;if("className"===n&&(n="class"),"key"===n);else if("ref"===n)t&&t(null),o&&o(e);else if("class"!==n||r)if("style"===n){if(o&&"string"!=typeof o&&"string"!=typeof t||(i.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof t)for(var a in t)a in o||(i.style[a]="");for(var a in o)i.style[a]="number"==typeof o[a]&&!1===G.test(a)?o[a]+"px":o[a]}}else if("dangerouslySetInnerHTML"===n)o&&(i.innerHTML=o.__html||"");else if("o"===n[0]&&"n"===n[1]){var s=n!==(n=n.replace(/Capture$/,""));n=n.toLowerCase().substring(2),o?t||m(e,n,s):h(e,n,s),e.listeners||(e.listeners={}),e.listeners[n]=o}else if("list"!==n&&"type"!==n&&!r&&n in i)d(i,n,null==o?"":o),null!=o&&!1!==o||i.removeAttribute(n);else{var l=r&&n!==(n=n.replace(/^xlink\:?/,""));null==o||!1===o?l?i.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):i.removeAttribute(n):"function"!=typeof o&&(l?i.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),o):i.setAttribute(n,o))}else i.className=o||""}function d(e,n,t){try{e[n]=t}catch(e){}}function f(e,n){return function(t){J&&!n&&(t.cancelBubble=!n);var o=e.listeners&&e.listeners[t.type],r=W.event&&W.event(t)||t;if(o)return W.eventBind&&e.component?o.call(e.component,r):o(r)}}function v(e){return void 0!==e.splitText}function m(e,n,t){var o=f(e,t);e.eventProxy||(e.eventProxy={}),e.eventProxy[n]=o;var r=e.base;J?r.attachEvent("on"+n,o):r.addEventListener(n,o,t)}function h(e,n,t){var o=e.eventProxy&&e.eventProxy[n];e.eventProxy&&o&&(e.eventProxy[n]=void 0);var r=e.base;J?r.detachEvent("on"+n,o):r.removeEventListener(n,o,t)}function b(e,n,t){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n?v(e.base):"string"==typeof n.nodeName?!e.componentConstructor&&y(e,n.nodeName):t||e.componentConstructor===n.nodeName}function y(e,n){return e.normalizedNodeName===n||e.base&&e.base.nodeName.toLowerCase()===n.toLowerCase()}function C(e){var n=B({},e.attributes);n.children=e.children;var t=e.nodeName.defaultProps;if(void 0!==t)for(var o in t)void 0===n[o]&&(n[o]=t[o]);return n}function g(e){if(e)return new K(e)}function x(){for(var e;e=Q.pop();){var n=W.afterMount;n&&n(e),e.componentDidMount&&e.componentDidMount()}}function _(e,n,t,o,r,i){X++||(Y=null!=r&&void 0!==r.ownerSVGDocument,Z=null!=e&&!e.props);var a=N(e,n,t,o,i);return r&&a.base.parentNode!==r&&r.appendChild(a.base),--X||(Z=!1,i||x()),a}function N(e,n,t,o,r){var i=Y,a=e&&e.base;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n){if(e&&v(e.base)&&e.base.parentNode&&(!e.component||r))e.base.nodeValue!==n&&(e.base.nodeValue=String(n));else{var s=document.createTextNode(String(n)),l=new K(s);e&&(r&&V(e,l),e.base.parentNode&&e.base.parentNode.replaceChild(s,e.base),k(e,!0)),e=l}return e.props=!0,e}var c=n.nodeName;if("function"==typeof c)return j(e,n,t,o);if(Y="svg"===c||"foreignObject"!==c&&Y,c=String(c),!e||!y(e,c)||!a){a=p(c,Y);l=new K(a);if(e){for(r&&V(e,l);e.base.firstChild;)a.appendChild(e.base.firstChild);e.base.parentNode&&e.base.parentNode.replaceChild(a,e.base),k(e,!0)}(e=l).normalizedNodeName=c}var u=a.firstChild,d=e.props,f=n.children;if(null==d||"boolean"==typeof d){e.props=d={};for(var m=a.attributes,h=m.length;h--;){var b=m[h];d[b.name]=b.value}}return!Z&&f&&1===f.length&&"string"==typeof f[0]&&null!=u&&v(u)&&null==u.nextSibling?u.nodeValue!==f[0]&&(u.nodeValue=String(f[0])):(f&&f.length||null!=u)&&(null==e.children&&(e.children=[]),w(e,f,t,o,Z||"object"==typeof d&&null!=d.dangerouslySetInnerHTML)),S(e,n.attributes,d),Y=i,e}function w(e,n,t,o,r){var i,a,s,l,p,u=e.children||[],d=[],f={},m=0,h=0,y=0,C=n?n.length:0,g=[],x=e.base&&e.base.childNodes;if(x.length!==u.length){for(var _=0,w=x,P=w.length,S=[],V=0;V<P;V++){for(var D=w[V],U=u[V+_];U&&D!==U.base;)U=u[V+ ++_];if(U)S.push(U);else{var j=new K(D);S.push(j)}}u=S}var L=u.length;if(0!==L)for(V=0;V<L;V++){var E=(O=u[V]).props;null!=(M=C&&E?O.component?O.component._key:"object"==typeof E&&E.key:null)?(m++,f[M]=O):(E||(v(O.base)?!r||O.base.nodeValue&&O.base.nodeValue.trim():r))&&(d[y++]=O)}if(0!==C)for(V=0;V<C;V++){p=null;var M="object"==typeof(l=n[V])&&l.key;if(null!=M)m&&void 0!==f[M]&&(p=f[M],f[M]=void 0,m--);else if(!p&&h<y)for(i=h;i<y;i++)if(void 0!==(a=d[i])&&b(a,l,r)){p=a,d[i]=void 0,i===y-1&&y--,i===h&&h++;break}var O=N(p,l,t,o,!1);O.parent!==e&&(O.parent=e),g.push(O),s=x[V],O.base!==e.base&&O.base!==s&&(null==s?e.base.appendChild(O.base):O.base===s.nextSibling?c(s):e.base.insertBefore(O.base,s))}if(e.children=g,m)for(var V in f){var T=f[V];null!=T&&k(T,!1)}for(;h<=y;)void 0!==(p=d[y--])&&k(p,!1)}function k(e,n){var t=e.component;t?(L(t),e.component=void 0):("object"==typeof e.props&&e.props.ref&&e.props.ref(null),!1!==n&&null!=e.props||c(e.base),P(e))}function P(e){var n=e.children;e.children=void 0;for(var t=n?n.length:0;n&&t--;)k(n[t],!0)}function S(e,n,t){var o,r=e.base;for(o in t)n&&null!=n[o]||null==t[o]||u(e,o,i=t[o],a=t[o]=void 0,Y);if(n)for(o in n)if(!("children"===o||"innerHTML"===o||o in t&&n[o]===("value"===o||"checked"===o?r[o]:t[o]))){var i=t[o],a=t[o]=n[o];u(e,o,i,a,Y)}}function V(e,n){if(e.parent&&e.parent.children){n.parent=e.parent;var t=e.parent.children.indexOf(e);-1!==t&&(e.parent.children[t]=n)}}function D(e,n,t,o,i){e._disable||(e._disable=!0,(e._ref=n.ref)&&delete n.ref,(e._key=n.key)&&delete n.key,!e.vdom||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,t!==H&&(t!==R&&!1===W.syncComponentUpdates&&e.vdom?r(e):U(e,R,i)),e._ref&&e._ref(e))}function U(e,n,t,o){if(!e._disable){var r,i=e.props,a=e.state,l=e.context,p=e.prevProps||i,c=e.prevState||a,u=e.prevContext||l,d=e.vdom,f=e.nextVDom,v=d||f,m=e._component,h=!1;if(d&&(e.props=p,e.state=c,e.context=u,n!==I&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(i,a,l)?h=!0:e.componentWillUpdate&&e.componentWillUpdate(i,a,l),e.props=i,e.state=a,e.context=l),e.prevProps=void 0,e.prevState=void 0,e.prevContext=void 0,e.nextVDom=void 0,e._dirty=!1,!h){var b=e.render(i,a,l),y=void 0;e.getChildContext&&(l=B(l,e.getChildContext()));var g=b&&b.nodeName,N=void 0,w=void 0;if("function"==typeof g&&b){var P=C(b);(y=m)&&y.constructor===g&&P.key===y._key?D(y,P,R,l,!1):(y&&(N=y),y=s(g,P,l),e._component=y,y.nextVDom=y.nextVDom||f,y._parentComponent=e,D(y,P,H,l,!1),U(y,R,t,!0)),w=y.vdom}else r=v,(N=m)&&(e._component=void 0,r=void 0),(v||n===R)&&(e.vdom&&e.vdom.component&&(e.vdom.component=void 0),w=_(r,b,l,t||!d,v&&v.base.parentNode,!0));if(v&&w!==v&&y!==m){var S=v.base.parentNode;w&&S&&w.base!==S&&(S.replaceChild(w.base,v.base),N||(v.component=void 0,k(v,!1)))}if(N&&L(N),e.vdom=w,w&&!o){for(var V=e,j=e;j=j._parentComponent;)(V=j).vdom=w;w.component=V,w.componentConstructor=V.constructor}}if(!d||t?Q.unshift(e):h||(e.componentDidUpdate&&e.componentDidUpdate(p,c,u),W.afterUpdate&&W.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);X||o||x()}}function j(e,n,t,o){for(var r=e&&e.component,i=r,a=e&&e.componentConstructor===n.nodeName,l=a,p=C(n);r&&!l&&(r=r._parentComponent);)l=r.constructor===n.nodeName;if(r&&r.vdom&&l&&(!o||r._component))D(r,p,$,t,o),e=r.vdom;else{var c=e;i&&!a&&(L(i),e=c=null),r=s(n.nodeName,p,t),e&&!r.nextVDom&&(r.nextVDom=e,c=null),D(r,p,R,t,o),e=r.vdom,c&&e!==c&&(c.component=void 0,k(c,!1))}return e}function L(e){W.beforeUnmount&&W.beforeUnmount(e);var n=e.vdom;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.vdom=void 0;var t=e._component;t?L(t):n&&("object"==typeof n.props&&n.props.ref&&n.props.ref(null),e.nextVDom=n,c(n.base),a(e),P(n)),e._ref&&e._ref(null)}function E(e,n){for(var t in e)if(!(t in n))return!0;for(var t in n)if(e[t]!==n[t])return!0;return!1}function M(e,n,t){return _(t,e,{},!1,n,!1)}function O(e){var n=function(e,n){ee.call(this,e,n)};return(e=B({constructor:n},e)).defaultProps&&(n.defaultProps=e.defaultProps),te.prototype=ee.prototype,n.prototype=B(new te,e),n.displayName=e.displayName||"Component",n}var T,W={eventBind:!0},z=function(){return function(){}}();if("function"==typeof Promise){var A=Promise.resolve();T=function(e){return A.then(e)}}else T=setTimeout;var B=Object.assign||function(e){for(var n=void 0,t=1,o=arguments.length;t<o;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=0,R=1,I=2,$=3,G=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,q=[],F={},J="function"!=typeof document.addEventListener,K=function(){function e(e){this.base=e}return e.prototype.clear=function(){this.children=void 0,this.component=void 0,this.eventProxy=void 0,this.listeners=void 0,this.normalizedNodeName=void 0,this.props=void 0,this.componentConstructor=void 0},e}(),Q=[],X=0,Y=!1,Z=!1,ee=function(){function e(e,n){this._dirty=!0,this.context=n,this.props=e,this.state=this.state||{}}return e.prototype.setState=function(e,n){var t=this.state;if(this.prevState||(this.prevState=B({},t)),"function"==typeof e){var o=e(t,this.props);o&&B(t,o)}else B(t,e);n&&(this._renderCallbacks=this._renderCallbacks||[],this._renderCallbacks.push(n)),r(this)},e.prototype.forceUpdate=function(e){e&&(this._renderCallbacks=this._renderCallbacks||[],this._renderCallbacks.push(e)),U(this,I)},e.prototype.render=function(e,n,t){},e}(),ne=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isPureReactComponent=!0,n}return n(t,e),t.prototype.shouldComponentUpdate=function(e,n){return E(this.props,e)||E(this.state,n)},t}(ee),te=function(){return function(){}}(),oe={Component:ee,PureComponent:ne,buildVDom:g,cloneElement:o,createClass:O,createElement:t,h:t,options:W,render:M,rerender:i};e.default=oe,e.Component=ee,e.PureComponent=ne,e.buildVDom=g,e.cloneElement=o,e.createClass=O,e.createElement=t,e.h=t,e.options=W,e.render=M,e.rerender=i,Object.defineProperty(e,"__esModule",{value:!0})});
